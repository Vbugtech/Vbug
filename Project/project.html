<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Project Registration </title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@7.12.15/dist/sweetalert2.all.min.js"></script>
  <link rel="shortcut icon" type="image/icon" href="favicon.png"/>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <!-- Title section -->
    <div class="title">ðŸ“Œ Vbug - Project Registration Form</div>
    <div class="content">
      <!-- Registration form -->
      <form name="submit-to-google-sheet">
        <div class="user-details">
          <!-- Input for Full Name -->
          <div class="input-box">
            <span class="details">Full Name</span>
            <input type="text" id="name" name="name" placeholder="Enter your Name" required>
          </div>
          
          <!-- Input for Email -->
          <div class="input-box">
            <span class="details">Email</span>
            <input type="email" id="email" name="email" placeholder="Enter your email" required>
          </div>
          <!-- Input for Phone Number -->
          <div class="input-box">
            <span class="details">Phone Number</span>
            <input type="number" id="number" name="number" placeholder="Enter your Whatsapp number" required>
          </div>
          
        <div class="input-box">
          <span class="details">Website</span>
          <input type="text" id="website" name="website" placeholder="Website Link (optional)">
        </div>
        <div class="input-box">
          <span class="details">Area of Domain</span>
          <input type="text" id="domain" name="domain" placeholder="Enter your Domain">
        </div>
        <div class="input-box">
          <span class="details">Project Details</span>
          <input type="text" id="details" name="details" placeholder="Explain the project">
        </div>
        
      </div>
<div class="gender-details">
        <!-- Radio buttons for gender selection -->
        <input type="radio" name="from" id="dot-1" value="Website">
        <input type="radio" name="from" id="dot-2" value="Linkedin">
        <input type="radio" name="from" id="dot-3" value="Social Media">
        <input type="radio" name="from" id="dot-4" value="Friends">
        <span class="gender-title">How did you hear about us</span>
        <div class="category">
          <!-- Label for Male -->
          <label for="dot-1">
            <span class="dot one"></span>
            <span class="gender">Website</span>
          </label>
          <!-- Label for Female -->
          <label for="dot-2">
            <span class="dot two"></span>
            <span class="gender">Linkedin</span>
          </label>
          <label for="dot-3">
            <span class="dot three"></span>
            <span class="gender">Social Media</span>
          </label>
          <!-- Label for Prefer not to say -->
          <label for="dot-4">
            <span class="dot four"></span>
            <span class="gender">Friends</span>
          </label>
        </div>
      </div>
        <!-- Submit button -->
    <div class="button">
        <input type="submit" value="Submit">
    </div>
       
      </form>

    </div>
  </div>
<script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbzNoDuIzm-UPZWnXu8cRaX38UzZqD54deN19a2WDVLz75zDqJQzNlIZZehtrfYYk2n6/exec'

        const form = document.forms['submit-to-google-sheet']
         const form = document.forms["submit-to-google-sheet"];

    form.addEventListener("submit", async (e) => {
        e.preventDefault();
        const formData = new FormData(form);

        await submitForm(formData);
    });

    async function submitForm(formData) {
        const submitButton = document.querySelector("input[type='submit']");
        submitButton.disabled = true;
        submitButton.value = "Loading...";

        // Submit the form data to the Google Sheet
        fetch(scriptURL, { method: "POST", body: formData })
            .then((response) => {
                if (response.ok) {
                    swal("Done", "Submitted Successfully.", "success");
                    form.reset();
                } else {
                    throw new Error("Network response was not ok");
                }
            })
            .catch((error) => {
                console.error("Error!", error.message);
                swal("Error", "Something went wrong. Please try again!", "error");
            })
            .finally(() => {
                // Reset the submit button back to "Register"
                submitButton.disabled = false;
                submitButton.value = "Register";
            });
    }
</script>

</body>
